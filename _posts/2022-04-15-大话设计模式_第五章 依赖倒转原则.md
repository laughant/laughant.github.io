---
layout: post
title: 依赖倒转原则
date: 2022-04-15
tags: 大话设计模式
---

## 依赖倒转原则

- 高层模块不应该依赖低层模块。两个都应该依赖抽象。
- 抽象不应该依赖细节，细节应该依赖于抽象。（针对接口编程，不要对实现编程）


释： 面向过程的开发时，为了使得常用代码可以复用，一般都会把这些常用的代码写成许许多多函数的程序库，这样我们在做新项目时，去调用这些低层的函数就可以了。这也就叫高层模块依赖低层模块。

- 依赖倒转其实可以说是面向对象设计的标志，用哪种语言来编写程序不重要，如果编写时考虑的都是如何针对抽象编程而不是针对细节编程，即程序中所有的依赖关系都是终止于抽象类或者接口，那就是面向对象的设计，反之那就是过程化的设计了。

为什么依赖了抽象的接口或抽象类，就不怕更改呢？

## 里氏代换原则

- 子类型必须能够替换掉它们的父类型。
- 一个软件实体如果使用的是一个父类的话，那么一定适用于其子类，而且它察觉不出父类对象和子类对象的区别。也就是说，在软件里面，把父类都替换成它的子类，程序的行为没有变化，简单的说，子类型必须能够替换掉它们的父类型。
- 只有当子类可以替换掉父类，软件单位的功能不受到影响时，父类才能真正被复用，而子类也能够在父类的基础上增加新的行为。

比如说，猫是继承动物类的，以动物的身份拥有吃，喝，跑，叫等行为，可当某一天，我们需要狗，牛，羊也拥有类似的行为，由于它们都是继承于动物，所以除了更改实例化的地方，程序其他处不需要改变。

![](/images/slary/slary6.png)

- 正是由于子类型的可替换行才使得使用父类类型的模块在无需修改的情况下就可以扩展。

